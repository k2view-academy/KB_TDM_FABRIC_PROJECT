{
    "tags": [
        "LoadFlows"
    ],
    "levels": [
        {
            "stages": [
                {
                    "name": "Description",
                    "dependsOnList": [],
                    "isLast": 0,
                    "isTransactional": false,
                    "remark": "This flow demonstrates the following:\n1. A table flow with field transformations:\n  a. Changing the sequential value of a field\n2. Supporting sequence replacement:\n  a. Regular sequence replacement\n  b. Sequence Caching - when a value was already replaced at a previous stage/actor, the new value will be taken from cache.",
                    "actors": []
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Initiate",
                    "dependsOnList": [],
                    "isLast": 0,
                    "isTransactional": false,
                    "actors": [
                        {
                            "name": "Initiate TDM Load",
                            "actorType": {
                                "parentType": "InitiateTDMLoad_Actor",
                                "inputs": [],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Get Fabric Table Data",
                    "dependsOnList": [],
                    "isLast": 0,
                    "isTransactional": false,
                    "actors": [
                        {
                            "name": "Get Table Data",
                            "actorType": {
                                "parentType": "DbCommand",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "fabric"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT contact.id,\n       person.department,\n       email.emailaddress,\n       person.firstname,\n       person.lastname,\n       person.mobilephone,\n       person.jobtitle,\n       person.officefax,\n       person.officephone,\n       address.city,\n       address.country,\n       address.latitude,\n       address.longitude,\n       address.postalcode,\n       address.state,\n       address.street1,\n       address.street2,\n       contact.ssncstm\nFROM   Customer.contact\n  JOIN Customer.person  ON (contact.person_id                = person.id )\n  JOIN Customer.address ON (person.primaryaddress_address_id = address.id)\n  JOIN Customer.email   ON (person.primaryemail_email_id     = email.id  )"
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "ID": {
                                                        "type": "integer"
                                                    },
                                                    "DEPARTMENT": {
                                                        "type": "string"
                                                    },
                                                    "EMAILADDRESS": {
                                                        "type": "string"
                                                    },
                                                    "FIRSTNAME": {
                                                        "type": "string"
                                                    },
                                                    "LASTNAME": {
                                                        "type": "string"
                                                    },
                                                    "MOBILEPHONE": {
                                                        "type": "string"
                                                    },
                                                    "JOBTITLE": {
                                                        "type": "string"
                                                    },
                                                    "OFFICEFAX": {
                                                        "type": "string"
                                                    },
                                                    "OFFICEPHONE": {
                                                        "type": "string"
                                                    },
                                                    "CITY": {
                                                        "type": "string"
                                                    },
                                                    "COUNTRY": {
                                                        "type": "string"
                                                    },
                                                    "LATITUDE": {
                                                        "type": "number"
                                                    },
                                                    "LONGITUDE": {
                                                        "type": "number"
                                                    },
                                                    "POSTALCODE": {
                                                        "type": "string"
                                                    },
                                                    "STATE": {
                                                        "type": "string"
                                                    },
                                                    "STREET1": {
                                                        "type": "string"
                                                    },
                                                    "STREET2": {
                                                        "type": "string"
                                                    },
                                                    "SSNCSTM": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Pre Transformation",
                    "dependsOnList": [],
                    "isLast": 0,
                    "remark": "Activities before doing special fields mapping.\nFor Example,in case of population depended sequence, set the Sequence Name based on the Population ID field from Fabric table",
                    "actors": [
                        {
                            "name": "Passthrough",
                            "minHeight": 178,
                            "actorType": {
                                "parentType": "Const",
                                "inputs": [
                                    {
                                        "name": "value",
                                        "const": null
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "value",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "ID": {
                                                    "type": "integer"
                                                },
                                                "DEPARTMENT": {
                                                    "type": "string"
                                                },
                                                "EMAILADDRESS": {
                                                    "type": "string"
                                                },
                                                "FIRSTNAME": {
                                                    "type": "string"
                                                },
                                                "LASTNAME": {
                                                    "type": "string"
                                                },
                                                "MOBILEPHONE": {
                                                    "type": "string"
                                                },
                                                "JOBTITLE": {
                                                    "type": "string"
                                                },
                                                "OFFICEFAX": {
                                                    "type": "string"
                                                },
                                                "OFFICEPHONE": {
                                                    "type": "string"
                                                },
                                                "CITY": {
                                                    "type": "string"
                                                },
                                                "COUNTRY": {},
                                                "LATITUDE": {},
                                                "LONGITUDE": {},
                                                "POSTALCODE": {
                                                    "type": "string"
                                                },
                                                "STATE": {
                                                    "type": "string"
                                                },
                                                "STREET1": {
                                                    "type": "string"
                                                },
                                                "STREET2": {},
                                                "SSNCSTM": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Transformation",
                    "dependsOnList": [],
                    "isLast": 0,
                    "remark": "Transformation of special fields. Fields that need to be changed/replaced before loading to target table. \nFor example, replace sequence or masking the field's value",
                    "actors": [
                        {
                            "name": "Transformation Error Handler",
                            "onError": "result",
                            "actorType": {
                                "parentType": "ErrorHandler",
                                "inputs": [
                                    {
                                        "name": "config",
                                        "const": [
                                            {
                                                "exceptionKey": "java.lang.Exception",
                                                "conditions": {
                                                    "message": ""
                                                },
                                                "actions": {
                                                    "suppress": false,
                                                    "log": false,
                                                    "flowName": "PopulateTableErrorsWithFailed"
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Transform Mobile Number",
                            "minHeight": 377,
                            "actorType": {
                                "parentType": "Replace",
                                "inputs": [
                                    {
                                        "name": "search",
                                        "const": "([0-9]{3})-([0-9]{3})-([0-9]{4})"
                                    },
                                    {
                                        "name": "replace",
                                        "const": "+1 ($1) $2-$3"
                                    },
                                    {
                                        "name": "regex",
                                        "const": true
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Lookup State",
                            "actorType": {
                                "parentType": "Lookup",
                                "inputs": [
                                    {
                                        "name": "lookupKeys",
                                        "const": [
                                            "state_abbreviation"
                                        ]
                                    },
                                    {
                                        "name": "lookupData",
                                        "schema": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "state": {
                                                        "type": "string"
                                                    },
                                                    "state_abbreviation": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "const": [
                                            {
                                                "state": "Alabama",
                                                "state_abbreviation": "AL"
                                            },
                                            {
                                                "state": "Kentucky",
                                                "state_abbreviation": "KY"
                                            },
                                            {
                                                "state": "Ohio",
                                                "state_abbreviation": "OH"
                                            },
                                            {
                                                "state": "Alaska",
                                                "state_abbreviation": "AK"
                                            },
                                            {
                                                "state": "Louisiana",
                                                "state_abbreviation": "LA"
                                            },
                                            {
                                                "state": "Oklahoma",
                                                "state_abbreviation": "OK"
                                            },
                                            {
                                                "state": "Arizona",
                                                "state_abbreviation": "AZ"
                                            },
                                            {
                                                "state": "Maine",
                                                "state_abbreviation": "ME"
                                            },
                                            {
                                                "state": "Oregon",
                                                "state_abbreviation": "OR"
                                            },
                                            {
                                                "state": "Arkansas",
                                                "state_abbreviation": "AR"
                                            },
                                            {
                                                "state": "Maryland",
                                                "state_abbreviation": "MD"
                                            },
                                            {
                                                "state": "Pennsylvania",
                                                "state_abbreviation": "PA"
                                            },
                                            {
                                                "state": "American Samoa",
                                                "state_abbreviation": "AS"
                                            },
                                            {
                                                "state": "Massachusetts",
                                                "state_abbreviation": "MA"
                                            },
                                            {
                                                "state": "Puerto Rico",
                                                "state_abbreviation": "PR"
                                            },
                                            {
                                                "state": "California",
                                                "state_abbreviation": "CA"
                                            },
                                            {
                                                "state": "Michigan",
                                                "state_abbreviation": "MI"
                                            },
                                            {
                                                "state": "Rhode Island",
                                                "state_abbreviation": "RI"
                                            },
                                            {
                                                "state": "Colorado",
                                                "state_abbreviation": "CO"
                                            },
                                            {
                                                "state": "Minnesota",
                                                "state_abbreviation": "MN"
                                            },
                                            {
                                                "state": "South Carolina",
                                                "state_abbreviation": "SC"
                                            },
                                            {
                                                "state": "Connecticut",
                                                "state_abbreviation": "CT"
                                            },
                                            {
                                                "state": "Mississippi",
                                                "state_abbreviation": "MS"
                                            },
                                            {
                                                "state": "South Dakota",
                                                "state_abbreviation": "SD"
                                            },
                                            {
                                                "state": "Delaware",
                                                "state_abbreviation": "DE"
                                            },
                                            {
                                                "state": "Missouri",
                                                "state_abbreviation": "MO"
                                            },
                                            {
                                                "state": "Tennessee",
                                                "state_abbreviation": "TN"
                                            },
                                            {
                                                "state": "District of Columbia",
                                                "state_abbreviation": "DC"
                                            },
                                            {
                                                "state": "Montana",
                                                "state_abbreviation": "MT"
                                            },
                                            {
                                                "state": "Texas",
                                                "state_abbreviation": "TX"
                                            },
                                            {
                                                "state": "Florida",
                                                "state_abbreviation": "FL"
                                            },
                                            {
                                                "state": "Nebraska",
                                                "state_abbreviation": "NE"
                                            },
                                            {
                                                "state": "Trust Territories",
                                                "state_abbreviation": "TT"
                                            },
                                            {
                                                "state": "Georgia",
                                                "state_abbreviation": "GA"
                                            },
                                            {
                                                "state": "Nevada",
                                                "state_abbreviation": "NV"
                                            },
                                            {
                                                "state": "Utah",
                                                "state_abbreviation": "UT"
                                            },
                                            {
                                                "state": "Guam",
                                                "state_abbreviation": "GU"
                                            },
                                            {
                                                "state": "New Hampshire",
                                                "state_abbreviation": "NH"
                                            },
                                            {
                                                "state": "Vermont",
                                                "state_abbreviation": "VT"
                                            },
                                            {
                                                "state": "Hawaii",
                                                "state_abbreviation": "HI"
                                            },
                                            {
                                                "state": "New Jersey",
                                                "state_abbreviation": "NJ"
                                            },
                                            {
                                                "state": "Virginia",
                                                "state_abbreviation": "VA"
                                            },
                                            {
                                                "state": "Idaho",
                                                "state_abbreviation": "ID"
                                            },
                                            {
                                                "state": "New Mexico",
                                                "state_abbreviation": "NM"
                                            },
                                            {
                                                "state": "Virgin Islands",
                                                "state_abbreviation": "VI"
                                            },
                                            {
                                                "state": "Illinois",
                                                "state_abbreviation": "IL"
                                            },
                                            {
                                                "state": "New York",
                                                "state_abbreviation": "NY"
                                            },
                                            {
                                                "state": "Washington",
                                                "state_abbreviation": "WA"
                                            },
                                            {
                                                "state": "Indiana",
                                                "state_abbreviation": "IN"
                                            },
                                            {
                                                "state": "North Carolina",
                                                "state_abbreviation": "NC"
                                            },
                                            {
                                                "state": "West Virginia",
                                                "state_abbreviation": "WV"
                                            },
                                            {
                                                "state": "Iowa",
                                                "state_abbreviation": "IA"
                                            },
                                            {
                                                "state": "North Dakota",
                                                "state_abbreviation": "ND"
                                            },
                                            {
                                                "state": "Wisconsin",
                                                "state_abbreviation": "WI"
                                            },
                                            {
                                                "state": "Kansas",
                                                "state_abbreviation": "KS"
                                            },
                                            {
                                                "state": "Northern Mariana Islands",
                                                "state_abbreviation": "MP"
                                            },
                                            {
                                                "state": "Wyoming",
                                                "state_abbreviation": "WY"
                                            }
                                        ]
                                    },
                                    {
                                        "name": "state_abbreviation",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "state": {
                                                    "type": "string"
                                                },
                                                "state_abbreviation": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "Transform SSN #",
                            "actorType": {
                                "parentType": "Replace",
                                "inputs": [
                                    {
                                        "name": "search",
                                        "const": "([0-9]{3})([0-9]{2})([0-9]{4})"
                                    },
                                    {
                                        "name": "replace",
                                        "const": "$1-$2-$3"
                                    },
                                    {
                                        "name": "regex",
                                        "const": true
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Transformation 2",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": []
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Load Data To Target",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Error Handler",
                            "onError": "result",
                            "actorType": {
                                "parentType": "ErrorHandler",
                                "inputs": [
                                    {
                                        "name": "config",
                                        "const": [
                                            {
                                                "exceptionKey": "java.lang.Exception",
                                                "conditions": {
                                                    "message": ""
                                                },
                                                "actions": {
                                                    "suppress": false,
                                                    "log": true,
                                                    "flowName": "PopulateTableErrorsWithFailed"
                                                }
                                            }
                                        ]
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Set Target Entity ID",
                            "actorType": {
                                "parentType": "setTargetEntityId_Actor",
                                "inputs": [],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Load customer Table",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "DB_CASSANDRA"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "k2customer"
                                    },
                                    {
                                        "name": "table",
                                        "const": "customer"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "customer_id",
                                            "department",
                                            "email",
                                            "first_name",
                                            "last_name",
                                            "mobile_phone",
                                            "occupation",
                                            "office_fax",
                                            "office_phone",
                                            "primary_address_city",
                                            "primary_address_country",
                                            "primary_address_latitude",
                                            "primary_address_longitude",
                                            "primary_address_postal",
                                            "primary_address_state",
                                            "primary_address_street1",
                                            "primary_address_street2",
                                            "ssn"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "customer_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "cassandra"
                                    },
                                    {
                                        "name": "customer_id",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    },
                                    {
                                        "name": "first_name",
                                        "schema": {
                                            "type": "string"
                                        }
                                    },
                                    {
                                        "name": "last_name",
                                        "schema": {
                                            "type": "string"
                                        }
                                    },
                                    {
                                        "name": "email",
                                        "schema": {
                                            "type": "string"
                                        }
                                    },
                                    {
                                        "name": "department",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "mobile_phone",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "occupation",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "office_fax",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "office_phone",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_city",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_country",
                                        "schema": {},
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_latitude",
                                        "schema": {},
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_longitude",
                                        "schema": {},
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_postal",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_state",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_street1",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "primary_address_street2",
                                        "schema": {},
                                        "mandatory": false
                                    },
                                    {
                                        "name": "ssn",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Post Record Loading",
                    "dependsOnList": [],
                    "isLast": 1,
                    "actors": []
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Get Statistics",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Read Stats",
                            "actorType": {
                                "parentType": "StatsReader",
                                "inputs": [],
                                "outputs": [
                                    {
                                        "name": "flow",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "db_affected": {
                                                    "type": "integer"
                                                },
                                                "db_affected_insert_k2view_customer.customer": {
                                                    "type": "integer"
                                                },
                                                "db_exec": {
                                                    "type": "integer"
                                                },
                                                "db_exec_insert_k2view_customer.customer": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    },
                                    {
                                        "name": "global",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "db_affected": {
                                                    "type": "integer"
                                                },
                                                "db_affected_insert_k2view_customer.customer": {
                                                    "type": "integer"
                                                },
                                                "db_exec": {
                                                    "type": "integer"
                                                },
                                                "db_exec_insert_k2view_customer.customer": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Report Statistics",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Load Stats To TDM Table",
                            "actorType": {
                                "parentType": "StatsLoader",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Post Table Loading",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": []
                }
            ]
        }
    ],
    "connections": [
        {
            "leftPort": {
                "actor": "Get Table Data",
                "name": "result"
            },
            "rightPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "iterate": "Iterate"
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Set Target Entity ID",
                "name": "target_entity_id"
            },
            "path": [
                "ID"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "customer_id"
            },
            "path": [
                "ID"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "department"
            },
            "path": [
                "DEPARTMENT"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "email"
            },
            "path": [
                "EMAILADDRESS"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "first_name"
            },
            "path": [
                "FIRSTNAME"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "last_name"
            },
            "path": [
                "LASTNAME"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "office_fax"
            },
            "path": [
                "OFFICEFAX"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "office_phone"
            },
            "path": [
                "OFFICEPHONE"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_city"
            },
            "path": [
                "CITY"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_country"
            },
            "path": [
                "COUNTRY"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_latitude"
            },
            "path": [
                "LATITUDE"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_longitude"
            },
            "path": [
                "LONGITUDE"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_postal"
            },
            "path": [
                "POSTALCODE"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_street1"
            },
            "path": [
                "STREET1"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_street2"
            },
            "path": [
                "STREET2"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Transform Mobile Number",
                "name": "string"
            },
            "path": [
                "MOBILEPHONE"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Lookup State",
                "name": "state_abbreviation"
            },
            "path": [
                "STATE"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Transform SSN #",
                "name": "string"
            },
            "path": [
                "SSNCSTM"
            ]
        },
        {
            "leftPort": {
                "actor": "Passthrough",
                "name": "value"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "occupation"
            },
            "path": [
                "JOBTITLE"
            ]
        },
        {
            "leftPort": {
                "actor": "Transform Mobile Number",
                "name": "string"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "mobile_phone"
            }
        },
        {
            "leftPort": {
                "actor": "Lookup State",
                "name": "result"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "primary_address_state"
            },
            "path": [
                "state"
            ]
        },
        {
            "leftPort": {
                "actor": "Transform SSN #",
                "name": "string"
            },
            "rightPort": {
                "actor": "Load customer Table",
                "name": "ssn"
            }
        },
        {
            "leftPort": {
                "actor": "Read Stats",
                "name": "flow"
            },
            "rightPort": {
                "actor": "Load Stats To TDM Table",
                "name": "stats"
            }
        },
        {
            "leftPort": {
                "actor": "flowArgs",
                "name": "syncMode"
            },
            "rightPort": {
                "actor": "Initiate TDM Load",
                "name": "syncMode"
            }
        },
        {
            "leftPort": {
                "actor": "flowArgs",
                "name": "iid"
            },
            "rightPort": {
                "actor": "Initiate TDM Load",
                "name": "iid"
            }
        },
        {
            "leftPort": {
                "actor": "flowArgs",
                "name": "luName"
            },
            "rightPort": {
                "actor": "Initiate TDM Load",
                "name": "luName"
            }
        }
    ]
}