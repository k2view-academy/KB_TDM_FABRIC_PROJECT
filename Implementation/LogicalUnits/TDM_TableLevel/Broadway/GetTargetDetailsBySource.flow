stages:
  Stage 1:
    actors:
      Get Target Table Details For Table Level:
        parent: MTableLookup
        in:
          mtable:
            const: RefList
          mtableCaseSensitive:
            const: false
          lu_name:
            external: luName
            schema: string
            editor:
              id: com.k2view.mTableKey
            mandatory: false
          reference_table_name:
            external: tableName
            schema: any
            editor:
              id: com.k2view.mTableKey
            mandatory: false
          interface_name:
            external: interfaceName
            schema: any
            editor:
              id: com.k2view.mTableKey
            mandatory: false
          schema_name:
            external: schemaName
            schema: any
            editor:
              id: com.k2view.mTableKey
            mandatory: false
        out:
          result:
            schema: '#ref'
          target_ref_table_name:
            schema: any
          target_interface_name:
            schema: any
          target_schema_name:
            schema: any
  Stage 2:
    actors:
      Set Target Table Name:
        parent: IfElse
        in:
          a:
            link: Get Target Table Details For Table Level/target_ref_table_name
            schema: string
          b:
            external: tableName
            schema: string
          test:
            link: Get Target Table Details For Table Level/target_ref_table_name
        out:
          result:
            external: targetTableName
            schema: string
      Set Target Interface:
        parent: IfElse
        in:
          a:
            link: Get Target Table Details For Table Level/target_interface_name
            schema: string
          b:
            external: interfaceName
            schema: string
          test:
            link: Get Target Table Details For Table Level/target_interface_name
        out:
          result:
            external: targetInterface
            schema: string
      Set Target Schema:
        parent: IfElse
        in:
          a:
            link: Get Target Table Details For Table Level/target_schema_name
            schema: string
          b:
            external: schemaName
            schema: string
          test:
            link: Get Target Table Details For Table Level/target_schema_name
        out:
          result:
            external: targetSchema
            schema: string
schemas:
  Get Target Table Details For Table Level.out.result:
    type: array
    items:
      type: object
      properties:
        lu_name:
          type: string
        id:
          type: string
        reference_table_name:
          type: string
        interface_name:
          type: string
        schema_name:
          type: string
        target_ref_table_name:
          type: string
        target_interface_name:
          type: string
        target_schema_name:
          type: string
        table_pk_list:
          type: string
        truncate_indicator:
          type: string
        count_indicator:
          type: string
        count_flow:
          type: string
