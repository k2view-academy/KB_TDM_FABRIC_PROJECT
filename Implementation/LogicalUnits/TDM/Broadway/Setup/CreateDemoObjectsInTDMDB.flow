{
    "tags": [
        "Demo",
        "Setup"
    ],
    "levels": [
        {
            "stages": [
                {
                    "name": "Current Time",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Now",
                            "minHeight": 144,
                            "actorType": {
                                "parentType": "Now",
                                "inputs": [],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Init Systems in Scope",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": {
                                            "userCode": "flowArgs.systems = \r\n({\r\n  \"CRM\": {\r\n    \"system\"         : \"CRM\",\r\n    \"lu_name\"        : \"Customer\",\r\n    \"vendor\"         : \"Best CRM in the World!\",\r\n    \"version\"        : \"v0.1,v1.0,v1.2a,v2.0,v2.4b\",\r\n    \"description\"    : \"Customer Relationship Management System\",\r\n    \"product_desc\"   : \"Customer Data Product\",\r\n    \"lu_parent_name\" : null\r\n  }\r\n});",
                                            "script": "flowArgs.systems = {\n  \"CRM\": {\n    \"system\": \"CRM\",\n    \"lu_name\": \"Customer\",\n    \"vendor\": \"Best CRM in the World!\",\n    \"version\": \"v0.1,v1.0,v1.2a,v2.0,v2.4b\",\n    \"description\": \"Customer Relationship Management System\",\n    \"product_desc\": \"Customer Data Product\",\n    \"lu_parent_name\": null\n  }\n};"
                                        }
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "CRM": {
                                                    "type": "object",
                                                    "properties": {
                                                        "system": {
                                                            "type": "string"
                                                        },
                                                        "lu_name": {
                                                            "type": "string"
                                                        },
                                                        "vendor": {
                                                            "type": "string"
                                                        },
                                                        "version": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "product_desc": {
                                                            "type": "string"
                                                        },
                                                        "lu_parent_name": {}
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "Init Environments in Scope",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": {
                                            "userCode": "flowArgs.environments = \r\n({\r\n  \"Production\": {\r\n\t\"version\"                                 : 1,\r\n    \"environment_name\"                        : \"Production\",\r\n    \"environment_description\"                 : \"Production Environment\",\r\n    \"environment_point_of_contact_first_name\" : \"Hod\",\r\n    \"environment_point_of_contact_last_name\"  : \"Rotem\",\r\n    \"environment_point_of_contact_phone1\"     : \"(201) 310-8901\",\r\n    \"environment_point_of_contact_email\"      : \"hod.rotem@k2view.com\",\r\n\t\"allow_write\"                             : true,\r\n\t\"allow_read\"                              : true,\r\n\t\"mask_sensitive_data\"                     : false,\r\n\t\"sync_mode\"                               : \"ON\",\r\n\t\"roles\":{\r\n\t\t\"role_name\"                           : \"Production Support Team\",\r\n\t\t\"role_description\"                    : \"Production Support Team\",\r\n\t\t\"allowed_delete_before_load\"          : true,\r\n\t\t\"allowed_creation_of_synthetic_data\"  : true,\r\n\t\t\"allowed_random_entity_selection\"     : true,\r\n\t\t\"allowed_request_of_fresh_data\"       : true,\r\n\t\t\"allowed_task_scheduling\"             : true,\r\n\t\t\"allowed_number_of_entities_to_copy\"  : 100,\r\n\t\t\"allowed_refresh_reference_data\"      : true,\r\n\t\t\"allowed_replace_sequences\"           : true,\r\n\t\t\"allow_read\"                          : true,\r\n\t\t\"allow_write\"                         : true,\r\n\t\t\"allowed_number_of_entities_to_read\"  : 100,\r\n\t\t\"allowed_entity_versioning\"           : true,\r\n\t\t\"allowed_test_conn_failure\"           : true,\r\n\t\t\"allowed_number_of_reserved_entities\" : 100\r\n\t}\r\n  }\r\n});",
                                            "script": "flowArgs.environments = {\n  \"Production\": {\n    \"version\": 1,\n    \"environment_name\": \"Production\",\n    \"environment_description\": \"Production Environment\",\n    \"environment_point_of_contact_first_name\": \"Hod\",\n    \"environment_point_of_contact_last_name\": \"Rotem\",\n    \"environment_point_of_contact_phone1\": \"(201) 310-8901\",\n    \"environment_point_of_contact_email\": \"hod.rotem@k2view.com\",\n    \"allow_write\": true,\n    \"allow_read\": true,\n    \"mask_sensitive_data\": false,\n    \"sync_mode\": \"ON\",\n    \"roles\": {\n      \"role_name\": \"Production Support Team\",\n      \"role_description\": \"Production Support Team\",\n      \"allowed_delete_before_load\": true,\n      \"allowed_creation_of_synthetic_data\": true,\n      \"allowed_random_entity_selection\": true,\n      \"allowed_request_of_fresh_data\": true,\n      \"allowed_task_scheduling\": true,\n      \"allowed_number_of_entities_to_copy\": 100,\n      \"allowed_refresh_reference_data\": true,\n      \"allowed_replace_sequences\": true,\n      \"allow_read\": true,\n      \"allow_write\": true,\n      \"allowed_number_of_entities_to_read\": 100,\n      \"allowed_entity_versioning\": true,\n      \"allowed_test_conn_failure\": true,\n      \"allowed_number_of_reserved_entities\": 100\n    }\n  }\n};"
                                        }
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "Production": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "mask_sensitive_data": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Reset",
                    "dependsOnList": [
                        "Current Time"
                    ],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Reset ?",
                            "condition": "result",
                            "actorType": {
                                "parentType": "Equals",
                                "inputs": [
                                    {
                                        "name": "a",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "const": false,
                                        "isDefault": true
                                    },
                                    {
                                        "name": "b",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "const": true
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "DeleteTDMDB",
                            "actorType": {
                                "parentType": "InnerFlow",
                                "inputs": [
                                    {
                                        "name": "flowName",
                                        "const": "DeleteTDMDB"
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Sleep 4 Seconds",
                            "actorType": {
                                "parentType": "Sleep",
                                "inputs": [
                                    {
                                        "name": "millis",
                                        "const": 4000
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "TDMDB",
                            "actorType": {
                                "parentType": "InnerFlow",
                                "inputs": [
                                    {
                                        "name": "flowName",
                                        "const": "TDMDB"
                                    },
                                    {
                                        "const": true,
                                        "name": "is_first_deploy",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Sleep 1Â½ Seconds",
                            "actorType": {
                                "parentType": "Sleep",
                                "inputs": [
                                    {
                                        "name": "millis",
                                        "const": 1500
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                },
                {
                    "name": "Not Reset",
                    "dependsOnList": [
                        "Current Time"
                    ],
                    "isLast": 0,
                    "isTransactional": false,
                    "actors": [
                        {
                            "name": "Create Roles And Users",
                            "actorType": {
                                "parentType": "InnerFlow",
                                "inputs": [
                                    {
                                        "name": "flowName",
                                        "const": "CreateRolesAndUsers"
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Post Process",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "business_entities_be_id_seq",
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.business_entities_be_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "To String",
                            "actorType": {
                                "parentType": "ToString",
                                "inputs": [],
                                "outputs": []
                            }
                        },
                        {
                            "name": "post_exe_process_id_seq",
                            "minHeight": 109,
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.post_exe_process_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Business Entities",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "business_entities",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "business_entities"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "be_name",
                                            "be_description",
                                            "be_id",
                                            "be_created_by",
                                            "be_creation_date",
                                            "be_last_updated_date",
                                            "be_last_updated_by",
                                            "be_status"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "be_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "Customer",
                                        "name": "be_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Customer Business Entity",
                                        "name": "be_description",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "be_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "be_created_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "be_creation_date",
                                        "schema": {
                                            "type": "date"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "be_last_updated_date",
                                        "schema": {
                                            "type": "date"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "be_last_updated_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Active",
                                        "name": "be_status",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Systems in Scope",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": "flowArgs.systems"
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "CRM": {
                                                    "type": "object",
                                                    "properties": {
                                                        "system": {
                                                            "type": "string"
                                                        },
                                                        "lu_name": {
                                                            "type": "string"
                                                        },
                                                        "vendor": {
                                                            "type": "string"
                                                        },
                                                        "version": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "product_desc": {
                                                            "type": "string"
                                                        },
                                                        "lu_parent_name": {}
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "tdm_be_post_exe_process",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "tdm_be_post_exe_process"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "process_id",
                                            "process_name",
                                            "process_description",
                                            "be_id",
                                            "execution_order"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "process_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "name": "process_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "d2d_TDM",
                                        "name": "process_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Data-2-Data Comparison",
                                        "name": "process_description",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "be_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": 1,
                                        "name": "execution_order",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "BE LUs & Products",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "System in Scope",
                            "actorType": {
                                "parentType": "Const",
                                "inputs": [
                                    {
                                        "name": "value",
                                        "const": null
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "value",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "system": {
                                                    "type": "string"
                                                },
                                                "lu_name": {
                                                    "type": "string"
                                                },
                                                "vendor": {
                                                    "type": "string"
                                                },
                                                "version": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "product_desc": {
                                                    "type": "string"
                                                },
                                                "lu_parent_name": {}
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "product_logical_units_lu_id_seq",
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.product_logical_units_lu_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "products_product_id_seq",
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.products_product_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Get Parents",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Get System",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": "flowArgs.systems[system];"
                                    },
                                    {
                                        "name": "system",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "system": {
                                                    "type": "string"
                                                },
                                                "vendor": {
                                                    "type": "string"
                                                },
                                                "version": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "product_desc": {
                                                    "type": "string"
                                                },
                                                "lu_parent_name": {},
                                                "lu_id": {
                                                    "type": "integer"
                                                },
                                                "product_lu_id": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "BE Products",
                    "dependsOnList": [],
                    "isLast": 1,
                    "actors": [
                        {
                            "name": "product_logical_units",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "product_logical_units"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "lu_name",
                                            "lu_description",
                                            "be_id",
                                            "lu_parent_id",
                                            "lu_id",
                                            "product_name",
                                            "lu_parent_name",
                                            "product_id"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "lu_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "name": "lu_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "lu_description",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "be_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "lu_parent_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "lu_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "lu_parent_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Update Systems",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": {
                                            "userCode": "if(lu_id != null)         flowArgs.systems[systemName].lu_id         = lu_id;\r\nif(product_lu_id != null) flowArgs.systems[systemName].product_lu_id = product_lu_id;\r\nflowArgs.systems;",
                                            "script": "if (lu_id != null) flowArgs.systems[systemName].lu_id = lu_id;\nif (product_lu_id != null) flowArgs.systems[systemName].product_lu_id = product_lu_id;\nflowArgs.systems;"
                                        }
                                    },
                                    {
                                        "name": "systemName",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "lu_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_lu_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "CRM": {
                                                    "type": "object",
                                                    "properties": {
                                                        "system": {
                                                            "type": "string"
                                                        },
                                                        "vendor": {
                                                            "type": "string"
                                                        },
                                                        "version": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "product_desc": {
                                                            "type": "string"
                                                        },
                                                        "lu_name": {},
                                                        "product_id": {},
                                                        "lu_id": {
                                                            "type": "integer"
                                                        },
                                                        "product_lu_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                },
                                                "FINANCE": {
                                                    "type": "object",
                                                    "properties": {
                                                        "system": {
                                                            "type": "string"
                                                        },
                                                        "vendor": {
                                                            "type": "string"
                                                        },
                                                        "version": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "product_desc": {
                                                            "type": "string"
                                                        },
                                                        "lu_name": {},
                                                        "product_id": {},
                                                        "lu_id": {
                                                            "type": "integer"
                                                        },
                                                        "product_lu_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "products",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "products"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "product_name",
                                            "product_description",
                                            "product_vendor",
                                            "product_versions",
                                            "product_id",
                                            "product_created_by",
                                            "product_creation_date",
                                            "product_last_updated_date",
                                            "product_last_updated_by",
                                            "product_status"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "product_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "name": "product_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_description",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_vendor",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_versions",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "product_created_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_creation_date",
                                        "schema": {
                                            "type": "date"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_last_updated_date",
                                        "schema": {
                                            "type": "date"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "product_last_updated_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Active",
                                        "name": "product_status",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Systems",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Systems in Scope Syntehtic",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": "flowArgs.systems"
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "CRM": {
                                                    "type": "object",
                                                    "properties": {
                                                        "system": {
                                                            "type": "string"
                                                        },
                                                        "lu_name": {
                                                            "type": "string"
                                                        },
                                                        "vendor": {
                                                            "type": "string"
                                                        },
                                                        "version": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "product_desc": {
                                                            "type": "string"
                                                        },
                                                        "lu_parent_name": {},
                                                        "lu_id": {
                                                            "type": "integer"
                                                        },
                                                        "product_lu_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Get System ID",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "environment_product_id_seq",
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.environment_product_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "System in Scope Syntehtic",
                            "actorType": {
                                "parentType": "Const",
                                "inputs": [
                                    {
                                        "name": "value",
                                        "const": null
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "value",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "system": {
                                                    "type": "string"
                                                },
                                                "lu_name": {
                                                    "type": "string"
                                                },
                                                "vendor": {
                                                    "type": "string"
                                                },
                                                "version": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "product_desc": {
                                                    "type": "string"
                                                },
                                                "lu_parent_name": {},
                                                "lu_id": {
                                                    "type": "integer"
                                                },
                                                "product_lu_id": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Synthetic Environment",
                    "dependsOnList": [],
                    "isLast": 1,
                    "actors": [
                        {
                            "name": "Synthetic environment_products",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "environment_products"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "environment_product_id",
                                            "environment_id",
                                            "product_id",
                                            "product_version",
                                            "created_by",
                                            "creation_date",
                                            "last_updated_date",
                                            "last_updated_by",
                                            "status",
                                            "data_center_name"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "environment_product_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "name": "environment_product_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": -1,
                                        "name": "environment_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Synthetic",
                                        "name": "product_version",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "created_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "creation_date",
                                        "schema": {
                                            "type": "date"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "last_updated_date",
                                        "schema": {
                                            "type": "date"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "last_updated_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Active",
                                        "name": "status",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "LOCAL_DC",
                                        "name": "data_center_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": " ",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": []
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Environments",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Environments in Scope",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": "flowArgs.environments"
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "Production": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "mask_sensitive_data": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Environment Seq",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "prod environments_environment_id_seq",
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.environments_environment_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "prod environment_roles_role_id_seq",
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.environment_roles_role_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "Environment in Scope",
                            "actorType": {
                                "parentType": "Const",
                                "inputs": [
                                    {
                                        "name": "value",
                                        "const": null
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "value",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "version": {
                                                    "type": "integer"
                                                },
                                                "environment_name": {
                                                    "type": "string"
                                                },
                                                "environment_description": {
                                                    "type": "string"
                                                },
                                                "environment_point_of_contact_first_name": {
                                                    "type": "string"
                                                },
                                                "environment_point_of_contact_last_name": {
                                                    "type": "string"
                                                },
                                                "environment_point_of_contact_phone1": {
                                                    "type": "string"
                                                },
                                                "environment_point_of_contact_email": {
                                                    "type": "string"
                                                },
                                                "allow_write": {
                                                    "type": "boolean"
                                                },
                                                "allow_read": {
                                                    "type": "boolean"
                                                },
                                                "mask_sensitive_data": {
                                                    "type": "boolean"
                                                },
                                                "sync_mode": {
                                                    "type": "string"
                                                },
                                                "roles": {
                                                    "type": "object",
                                                    "properties": {
                                                        "role_name": {
                                                            "type": "string"
                                                        },
                                                        "role_description": {
                                                            "type": "string"
                                                        },
                                                        "allowed_delete_before_load": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_creation_of_synthetic_data": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_random_entity_selection": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_request_of_fresh_data": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_task_scheduling": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_number_of_entities_to_copy": {
                                                            "type": "integer"
                                                        },
                                                        "allowed_refresh_reference_data": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_replace_sequences": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_number_of_entities_to_read": {
                                                            "type": "integer"
                                                        },
                                                        "allowed_entity_versioning": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_test_conn_failure": {
                                                            "type": "boolean"
                                                        },
                                                        "allowed_number_of_reserved_entities": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Prod Environment Roles",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "Systems in Scope Syntehtic1",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": "flowArgs.systems"
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "CRM": {
                                                    "type": "object",
                                                    "properties": {
                                                        "system": {
                                                            "type": "string"
                                                        },
                                                        "lu_name": {
                                                            "type": "string"
                                                        },
                                                        "vendor": {
                                                            "type": "string"
                                                        },
                                                        "version": {
                                                            "type": "string"
                                                        },
                                                        "description": {
                                                            "type": "string"
                                                        },
                                                        "product_desc": {
                                                            "type": "string"
                                                        },
                                                        "lu_parent_name": {},
                                                        "lu_id": {
                                                            "type": "integer"
                                                        },
                                                        "product_lu_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "prod environments",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "environments"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "environment_name",
                                            "environment_description",
                                            "environment_expiration_date",
                                            "environment_point_of_contact_first_name",
                                            "environment_point_of_contact_last_name",
                                            "environment_point_of_contact_phone1",
                                            "environment_point_of_contact_phone2",
                                            "environment_point_of_contact_email",
                                            "environment_id",
                                            "environment_created_by",
                                            "environment_creation_date",
                                            "environment_last_updated_date",
                                            "environment_last_updated_by",
                                            "environment_status",
                                            "allow_write",
                                            "allow_read",
                                            "mask_sensitive_data",
                                            "sync_mode"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "environment_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        }
                                    },
                                    {
                                        "name": "environment_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_description",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_expiration_date",
                                        "schema": {},
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_point_of_contact_first_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_point_of_contact_last_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_point_of_contact_phone1",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_point_of_contact_phone2",
                                        "schema": {},
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_point_of_contact_email",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "environment_created_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_creation_date",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_last_updated_date",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "environment_last_updated_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Active",
                                        "name": "environment_status",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allow_write",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allow_read",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "sync_mode",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "mask_sensitive_data",
                                        "schema": {},
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "prod environment_roles",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "environment_roles"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "environment_id",
                                            "role_name",
                                            "role_description",
                                            "allowed_delete_before_load",
                                            "allowed_creation_of_synthetic_data",
                                            "allowed_random_entity_selection",
                                            "allowed_request_of_fresh_data",
                                            "allowed_task_scheduling",
                                            "allowed_number_of_entities_to_copy",
                                            "role_id",
                                            "role_created_by",
                                            "role_creation_date",
                                            "role_last_updated_date",
                                            "role_expiration_date",
                                            "role_last_updated_by",
                                            "role_status",
                                            "allowed_refresh_reference_data",
                                            "allowed_replace_sequences",
                                            "allow_read",
                                            "allow_write",
                                            "allowed_number_of_entities_to_read",
                                            "allowed_entity_versioning",
                                            "allowed_test_conn_failure",
                                            "allowed_number_of_reserved_entities"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "role_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        }
                                    },
                                    {
                                        "name": "environment_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "role_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "role_description",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_delete_before_load",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_creation_of_synthetic_data",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_random_entity_selection",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_request_of_fresh_data",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_task_scheduling",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_number_of_entities_to_copy",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "role_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "role_created_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "role_creation_date",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "role_last_updated_date",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "role_expiration_date",
                                        "schema": {},
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "role_last_updated_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Active",
                                        "name": "role_status",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_refresh_reference_data",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_replace_sequences",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allow_read",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allow_write",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_number_of_entities_to_read",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_entity_versioning",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_test_conn_failure",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "allowed_number_of_reserved_entities",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "prod environment_role_users",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "environment_role_users"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "environment_id",
                                            "role_id",
                                            "user_type",
                                            "username",
                                            "user_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "name": "environment_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "role_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "ID",
                                        "name": "user_type",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "ALL",
                                        "name": "username",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "-1",
                                        "name": "user_id",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Update Environment",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": {
                                            "userCode": "if(environment_id != null) flowArgs.environments[environment].environment_id = environment_id;\r\nflowArgs.environments;",
                                            "script": "if (environment_id != null) flowArgs.environments[environment].environment_id = environment_id;\nflowArgs.environments;"
                                        }
                                    },
                                    {
                                        "name": "environment",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "prod": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        },
                                                        "environment_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                },
                                                "uat": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        },
                                                        "environment_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                },
                                                "dev": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        },
                                                        "environment_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                },
                                                "qa": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        },
                                                        "environment_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                },
                                                "MachineLearning": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        },
                                                        "environment_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                },
                                                "analytic": {
                                                    "type": "object",
                                                    "properties": {
                                                        "version": {
                                                            "type": "integer"
                                                        },
                                                        "environment_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_description": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_first_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_last_name": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_phone1": {
                                                            "type": "string"
                                                        },
                                                        "environment_point_of_contact_email": {
                                                            "type": "string"
                                                        },
                                                        "allow_write": {
                                                            "type": "boolean"
                                                        },
                                                        "allow_read": {
                                                            "type": "boolean"
                                                        },
                                                        "sync_mode": {
                                                            "type": "string"
                                                        },
                                                        "roles": {
                                                            "type": "object",
                                                            "properties": {
                                                                "role_name": {
                                                                    "type": "string"
                                                                },
                                                                "role_description": {
                                                                    "type": "string"
                                                                },
                                                                "allowed_delete_before_load": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_creation_of_synthetic_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_random_entity_selection": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_request_of_fresh_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_task_scheduling": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_copy": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_refresh_reference_data": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_replace_sequences": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_read": {
                                                                    "type": "boolean"
                                                                },
                                                                "allow_write": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_entities_to_read": {
                                                                    "type": "integer"
                                                                },
                                                                "allowed_entity_versioning": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_test_conn_failure": {
                                                                    "type": "boolean"
                                                                },
                                                                "allowed_number_of_reserved_entities": {
                                                                    "type": "integer"
                                                                }
                                                            }
                                                        },
                                                        "environment_id": {
                                                            "type": "integer"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Environment Systems",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "System in Scope Syntehtic1",
                            "actorType": {
                                "parentType": "Const",
                                "inputs": [
                                    {
                                        "name": "value",
                                        "const": null
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "value",
                                        "schema": {
                                            "type": "object",
                                            "properties": {
                                                "system": {
                                                    "type": "string"
                                                },
                                                "lu_name": {
                                                    "type": "string"
                                                },
                                                "vendor": {
                                                    "type": "string"
                                                },
                                                "version": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "product_desc": {
                                                    "type": "string"
                                                },
                                                "lu_parent_name": {},
                                                "lu_id": {
                                                    "type": "integer"
                                                },
                                                "product_lu_id": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Environment Version",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "prod environment_product_id_seq",
                            "actorType": {
                                "parentType": "DbFetchField",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "SELECT nextval('${@sequence_name}')"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "const": "public.environment_product_id_seq",
                                        "name": "sequence_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "integer"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "name": "Version",
                            "actorType": {
                                "parentType": "JavaScript",
                                "inputs": [
                                    {
                                        "name": "script",
                                        "const": "versions.split(\",\")[version]"
                                    },
                                    {
                                        "name": "versions",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "version",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": [
                                    {
                                        "name": "result",
                                        "schema": {
                                            "type": "string"
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Environment Products",
                    "dependsOnList": [],
                    "isLast": 1,
                    "actors": [
                        {
                            "name": "prod environment_products",
                            "actorType": {
                                "parentType": "DbLoad",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "schema",
                                        "const": "public"
                                    },
                                    {
                                        "name": "table",
                                        "const": "environment_products"
                                    },
                                    {
                                        "name": "fields",
                                        "const": [
                                            "environment_product_id",
                                            "environment_id",
                                            "product_id",
                                            "product_version",
                                            "created_by",
                                            "creation_date",
                                            "last_updated_date",
                                            "last_updated_by",
                                            "status",
                                            "data_center_name"
                                        ]
                                    },
                                    {
                                        "name": "keys",
                                        "const": [
                                            "environment_product_id"
                                        ]
                                    },
                                    {
                                        "name": "dialect",
                                        "const": "postgres"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    },
                                    {
                                        "name": "environment_product_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "environment_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_id",
                                        "schema": {
                                            "type": "integer"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "product_version",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "created_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "creation_date",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "name": "last_updated_date",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "admin",
                                        "name": "last_updated_by",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "Active",
                                        "name": "status",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": "LOCAL_DC",
                                        "name": "data_center_name",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "   ",
                    "dependsOnList": [],
                    "isLast": 1,
                    "actors": []
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "    ",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": []
                }
            ]
        },
        {
            "stages": [
                {
                    "name": "Update TDM",
                    "dependsOnList": [],
                    "isLast": 0,
                    "actors": [
                        {
                            "name": "tdm_general_parameters",
                            "actorType": {
                                "parentType": "DbCommand",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "TDM"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "UPDATE \r\n   tdm_general_parameters\r\nSET \r\n   param_value = REPLACE(param_value,'\"enable_reserve_by_params\":False','\"enable_reserve_by_params\":true') \r\nwhere param_name = 'tdm_gui_params'"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "tdm_seq_mapping",
                            "isDisabled": true,
                            "actorType": {
                                "parentType": "DbCommand",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "DB_CASSANDRA"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "TRUNCATE TABLE k2masking.tdm_seq_mapping"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "masking_cache",
                            "isDisabled": true,
                            "actorType": {
                                "parentType": "DbCommand",
                                "inputs": [
                                    {
                                        "name": "interface",
                                        "const": "DB_CASSANDRA"
                                    },
                                    {
                                        "name": "sql",
                                        "const": "TRUNCATE TABLE k2masking.masking_cache"
                                    },
                                    {
                                        "name": "params",
                                        "schema": {
                                            "type": "object"
                                        },
                                        "const": {}
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "masking-create-cache-table",
                            "isDisabled": true,
                            "actorType": {
                                "parentType": "InnerFlow",
                                "inputs": [
                                    {
                                        "name": "flowName",
                                        "const": "masking-create-cache-table"
                                    },
                                    {
                                        "const": "TDM",
                                        "name": "interface",
                                        "schema": {
                                            "type": "string"
                                        },
                                        "editor": {
                                            "id": "com.k2view.interface",
                                            "interfaceType": [
                                                "database",
                                                "CassandraLoader"
                                            ],
                                            "interfaces": [
                                                "fabric"
                                            ]
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": true,
                                        "name": "dropKeySpace",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    },
                                    {
                                        "const": true,
                                        "name": "doTruncate",
                                        "schema": {
                                            "type": "boolean"
                                        },
                                        "mandatory": false
                                    }
                                ],
                                "outputs": []
                            }
                        },
                        {
                            "name": "Add Web Role",
                            "actorType": {
                                "parentType": "InnerFlow",
                                "inputs": [
                                    {
                                        "name": "flowName",
                                        "const": "AddWebRole"
                                    }
                                ],
                                "outputs": []
                            }
                        }
                    ]
                }
            ]
        }
    ],
    "connections": [
        {
            "leftPort": {
                "actor": "Now",
                "name": "date"
            },
            "rightPort": {
                "actor": "To String",
                "name": "value"
            }
        },
        {
            "leftPort": {
                "actor": "business_entities_be_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "business_entities",
                "name": "be_id"
            }
        },
        {
            "leftPort": {
                "actor": "business_entities_be_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "be_id"
            }
        },
        {
            "leftPort": {
                "actor": "business_entities_be_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "tdm_be_post_exe_process",
                "name": "be_id"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "business_entities",
                "name": "be_creation_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "business_entities",
                "name": "be_last_updated_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "products",
                "name": "product_creation_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "products",
                "name": "product_last_updated_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "Synthetic environment_products",
                "name": "creation_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "Synthetic environment_products",
                "name": "last_updated_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "prod environments",
                "name": "environment_creation_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "prod environments",
                "name": "environment_last_updated_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "prod environment_roles",
                "name": "role_creation_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "prod environment_roles",
                "name": "role_last_updated_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "prod environment_products",
                "name": "creation_date"
            }
        },
        {
            "leftPort": {
                "actor": "To String",
                "name": "string"
            },
            "rightPort": {
                "actor": "prod environment_products",
                "name": "last_updated_date"
            }
        },
        {
            "leftPort": {
                "actor": "post_exe_process_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "tdm_be_post_exe_process",
                "name": "process_id"
            }
        },
        {
            "leftPort": {
                "actor": "Systems in Scope",
                "name": "result"
            },
            "rightPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "iterate": "Iterate"
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "products",
                "name": "product_vendor"
            },
            "path": [
                "vendor"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "products",
                "name": "product_versions"
            },
            "path": [
                "version"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "products",
                "name": "product_description"
            },
            "path": [
                "description"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "lu_description"
            },
            "path": [
                "product_desc"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "lu_parent_name"
            },
            "path": [
                "lu_parent_name"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "Get System",
                "name": "system"
            },
            "path": [
                "lu_parent_name"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "Update Systems",
                "name": "systemName"
            },
            "path": [
                "system"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "products",
                "name": "product_name"
            },
            "path": [
                "system"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "lu_name"
            },
            "path": [
                "lu_name"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "product_name"
            },
            "path": [
                "system"
            ]
        },
        {
            "leftPort": {
                "actor": "product_logical_units_lu_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "Update Systems",
                "name": "lu_id"
            }
        },
        {
            "leftPort": {
                "actor": "product_logical_units_lu_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "lu_id"
            }
        },
        {
            "leftPort": {
                "actor": "products_product_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "product_id"
            }
        },
        {
            "leftPort": {
                "actor": "products_product_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "products",
                "name": "product_id"
            }
        },
        {
            "leftPort": {
                "actor": "products_product_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "Update Systems",
                "name": "product_lu_id"
            }
        },
        {
            "leftPort": {
                "actor": "Get System",
                "name": "result"
            },
            "rightPort": {
                "actor": "product_logical_units",
                "name": "lu_parent_id"
            },
            "path": [
                "lu_id"
            ]
        },
        {
            "leftPort": {
                "actor": "Systems in Scope Syntehtic",
                "name": "result"
            },
            "rightPort": {
                "actor": "System in Scope Syntehtic",
                "name": "value"
            },
            "iterate": "Iterate"
        },
        {
            "leftPort": {
                "actor": "environment_product_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "Synthetic environment_products",
                "name": "environment_product_id"
            }
        },
        {
            "leftPort": {
                "actor": "System in Scope Syntehtic",
                "name": "value"
            },
            "rightPort": {
                "actor": "Synthetic environment_products",
                "name": "product_id"
            },
            "path": [
                "product_lu_id"
            ]
        },
        {
            "leftPort": {
                "actor": "Environments in Scope",
                "name": "result"
            },
            "rightPort": {
                "actor": "Environment in Scope",
                "name": "value"
            },
            "iterate": "Iterate"
        },
        {
            "leftPort": {
                "actor": "prod environments_environment_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environments",
                "name": "environment_id"
            }
        },
        {
            "leftPort": {
                "actor": "prod environments_environment_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environment_roles",
                "name": "environment_id"
            }
        },
        {
            "leftPort": {
                "actor": "prod environments_environment_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environment_role_users",
                "name": "environment_id"
            }
        },
        {
            "leftPort": {
                "actor": "prod environments_environment_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environment_products",
                "name": "environment_id"
            }
        },
        {
            "leftPort": {
                "actor": "prod environments_environment_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "Update Environment",
                "name": "environment_id"
            }
        },
        {
            "leftPort": {
                "actor": "prod environment_roles_role_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environment_roles",
                "name": "role_id"
            }
        },
        {
            "leftPort": {
                "actor": "prod environment_roles_role_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environment_role_users",
                "name": "role_id"
            }
        },
        {
            "leftPort": {
                "actor": "Environment in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "prod environments",
                "name": "params"
            }
        },
        {
            "leftPort": {
                "actor": "Environment in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "prod environment_roles",
                "name": "params"
            },
            "path": [
                "roles"
            ]
        },
        {
            "leftPort": {
                "actor": "Environment in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "Version",
                "name": "version"
            },
            "path": [
                "version"
            ]
        },
        {
            "leftPort": {
                "actor": "Environment in Scope",
                "name": "value"
            },
            "rightPort": {
                "actor": "Update Environment",
                "name": "environment"
            },
            "path": [
                "environment_name"
            ]
        },
        {
            "leftPort": {
                "actor": "Systems in Scope Syntehtic1",
                "name": "result"
            },
            "rightPort": {
                "actor": "System in Scope Syntehtic1",
                "name": "value"
            },
            "iterate": "Iterate"
        },
        {
            "leftPort": {
                "actor": "System in Scope Syntehtic1",
                "name": "value"
            },
            "rightPort": {
                "actor": "prod environment_products",
                "name": "product_id"
            },
            "path": [
                "product_lu_id"
            ]
        },
        {
            "leftPort": {
                "actor": "System in Scope Syntehtic1",
                "name": "value"
            },
            "rightPort": {
                "actor": "Version",
                "name": "versions"
            },
            "path": [
                "version"
            ]
        },
        {
            "leftPort": {
                "actor": "prod environment_product_id_seq",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environment_products",
                "name": "environment_product_id"
            }
        },
        {
            "leftPort": {
                "actor": "Version",
                "name": "result"
            },
            "rightPort": {
                "actor": "prod environment_products",
                "name": "product_version"
            }
        },
        {
            "leftPort": {
                "actor": "flowArgs",
                "name": "Reset"
            },
            "rightPort": {
                "actor": "Reset ?",
                "name": "a"
            }
        }
    ]
}